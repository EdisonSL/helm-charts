name: a1-worker

global:
  image:
    repository: "shopline/api"
    tag: internal_789c635
  serviceaccount:
    annotations:
      eks.amazonaws.com/role-arn: "aws-role"
  envFromConfigmap:
    - name: "env"
  envFromSecret:
    - name: "sec-env"

workers:
  - name: worker1
    queue:
      - queueName: user-import-notification0 # default listener: 2
      - queueName: user-import-notification1 # default listener: 2
    resources:
      limits:
        cpu: "2"
        memory: "16Gi"
      requests:
        cpu: "1"
        memory: "4Gi"

  - name: worker2
    standAlone: true
    enableHPA: false # set enableHPA required when standAlone mode
    queue:
      - queueName: user-import-notification3
    resources:
      limits:
        cpu: "2"
        memory: "16Gi"
      requests:
        cpu: "1"
        memory: "4Gi"

  - name: worker3
    queue:
      - queueName: user-import-notification4
        listener: 4
      - queueName: user-import-notification5
        listener: 5
    resources:
      limits:
        cpu: "2"
        memory: "16Gi"
      requests:
        cpu: "1"
        memory: "4Gi"
